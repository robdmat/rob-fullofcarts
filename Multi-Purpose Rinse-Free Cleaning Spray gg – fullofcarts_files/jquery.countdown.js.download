(function($,window2,document2,undefined){"use strict";var pluginName="countDown",defaults={css_class:"countdown",always_show_days:!1,with_labels:!0,with_seconds:!0,with_separators:!0,with_hh_leading_zero:!0,with_mm_leading_zero:!0,with_ss_leading_zero:!0,label_dd:"days",label_hh:"hours",label_mm:"minutes",label_ss:"seconds",separator:":",separator_days:","};function CountDown(element,options){this.element=$(element),this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}$.extend(CountDown.prototype,{init:function(){this.element.children().length||(this.element.attr("datetime")&&(this.endDate=this.parseEndDate(this.element.attr("datetime"))),this.endDate===undefined&&(this.endDate=this.parseEndDate(this.element.text())),this.endDate!==undefined&&(this.element.is("time")?this.timeElement=this.element:(this.timeElement=$("<time></time>"),this.element.html(this.timeElement)),this.markup(),this.setTimeoutDelay=this.sToMs(1),this.daysVisible=!0,this.timeElement.on("time.elapsed",this.options.onTimeElapsed),this.timeElement.on("time.tick",this.options.onTick),this.doCountDown()))},parseEndDate:function(str){var d;if(d=this.parseDuration(str),d instanceof Date||(d=this.parseDateTime(str),d instanceof Date)||(d=this.parseHumanReadableDuration(str),d instanceof Date))return d;if(d=Date.parse(str),!isNaN(d))return new Date(d)},parseDuration:function(str){var timeArray=str.match(/^P(?:(\d+)D)?T?(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)(?:\.(\d{1,3}))?S)?$/);if(timeArray){var d,dd,hh,mm,ss,ms;return dd=timeArray[1]?this.dToMs(timeArray[1]):0,hh=timeArray[2]?this.hToMs(timeArray[2]):0,mm=timeArray[3]?this.mToMs(timeArray[3]):0,ss=timeArray[4]?this.sToMs(timeArray[4]):0,ms=timeArray[5]?parseInt(timeArray[5],10):0,d=new Date,d.setTime(d.getTime()+dd+hh+mm+ss+ms),d}},parseDateTime:function(str){var timeArray=str.match(/^(\d{4,})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2})(?:\:(\d{2}))?(?:\.(\d{1,3}))?([Z\+\-\:\d]+)?$/);if(timeArray){var offset=timeArray[8]?timeArray[8].match(/^([\+\-])?(\d{2}):?(\d{2})$/):undefined,utcOffset=0;offset&&(utcOffset=this.hToMs(offset[2])+this.mToMs(offset[3]),utcOffset=offset[1]==="-"?utcOffset:-utcOffset);var d,yy,mo,dd,hh,mm,ss,ms;return yy=timeArray[1],mo=timeArray[2]-1,dd=timeArray[3],hh=timeArray[4]||0,mm=timeArray[5]||0,ss=timeArray[6]||0,ms=timeArray[7]||0,d=new Date(Date.UTC(yy,mo,dd,hh,mm,ss,ms)),d.setTime(d.getTime()+utcOffset),d}},parseHumanReadableDuration:function(str){var timeArray=str.match(/^(?:(\d+).+\s)?(\d+)[h:]\s?(\d+)[m:]?\s?(\d+)?[s]?(?:\.(\d{1,3}))?$/);if(timeArray){var d,dd,hh,mm,ss,ms;return d=new Date,dd=timeArray[1]?this.dToMs(timeArray[1]):0,hh=timeArray[2]?this.hToMs(timeArray[2]):0,mm=timeArray[3]?this.mToMs(timeArray[3]):0,ss=timeArray[4]?this.sToMs(timeArray[4]):0,ms=timeArray[5]?parseInt(timeArray[5],10):0,d.setTime(d.getTime()+dd+hh+mm+ss+ms),d}},sToMs:function(s){return parseInt(s,10)*1e3},mToMs:function(m){return parseInt(m,10)*60*1e3},hToMs:function(h){return parseInt(h,10)*60*60*1e3},dToMs:function(d){return parseInt(d,10)*24*60*60*1e3},msToS:function(ms){return parseInt(ms/1e3%60,10)},msToM:function(ms){return parseInt(ms/1e3/60%60,10)},msToH:function(ms){return parseInt(ms/1e3/60/60%24,10)},msToD:function(ms){return parseInt(ms/1e3/60/60/24,10)},markup:function(){var html=['<span class="item item-dd">','<span class="dd"></span>','<span class="label label-dd">',this.options.label_dd,"</span>","</span>",'<span class="separator separator-dd">',this.options.separator_days,"</span>",'<span class="item item-hh">','<span class="hh-1"></span>','<span class="hh-2"></span>','<span class="label label-hh">',this.options.label_hh,"</span>","</span>",'<span class="separator">',this.options.separator,"</span>",'<span class="item item-mm">','<span class="mm-1"></span>','<span class="mm-2"></span>','<span class="label label-mm">',this.options.label_mm,"</span>","</span>",'<span class="separator">',this.options.separator,"</span>",'<span class="item item-ss">','<span class="ss-1"></span>','<span class="ss-2"></span>','<span class="label label-ss">',this.options.label_ss,"</span>","</span>"];this.timeElement.html(html.join("")),this.options.with_labels||this.timeElement.find(".label").remove(),this.options.with_separators||this.timeElement.find(".separator").remove(),this.options.with_seconds||(this.timeElement.find(".item-ss").remove(),this.timeElement.find(".separator").last().remove()),this.item_dd=this.timeElement.find(".item-dd"),this.separator_dd=this.timeElement.find(".separator-dd"),this.remaining_dd=this.timeElement.find(".dd"),this.remaining_hh1=this.timeElement.find(".hh-1"),this.remaining_hh2=this.timeElement.find(".hh-2"),this.remaining_mm1=this.timeElement.find(".mm-1"),this.remaining_mm2=this.timeElement.find(".mm-2"),this.remaining_ss1=this.timeElement.find(".ss-1"),this.remaining_ss2=this.timeElement.find(".ss-2"),this.timeElement.addClass(this.options.css_class)},doCountDown:function(){var ms=this.endDate.getTime()-new Date().getTime(),ss=this.msToS(ms),mm=this.msToM(ms),hh=this.msToH(ms),dd=this.msToD(ms);if(ms<=0&&(ss=mm=hh=dd=0),this.displayRemainingTime({ss:ss<10?(this.options.with_ss_leading_zero?"0":" ")+ss.toString():ss.toString(),mm:mm<10?(this.options.with_mm_leading_zero?"0":" ")+mm.toString():mm.toString(),hh:hh<10?(this.options.with_hh_leading_zero?"0":" ")+hh.toString():hh.toString(),dd:dd.toString()}),!this.options.with_seconds&&dd===0&&mm===0&&hh===0&&(ss=0),dd===0&&mm===0&&hh===0&&ss===0)return this.timeElement.trigger("time.elapsed");var self=this;return window2.setTimeout(function(){self.doCountDown()},self.setTimeoutDelay),this.timeElement.trigger("time.tick",ms)},displayRemainingTime:function(remaining){var attr=[];attr.push("P"),remaining.dd!=="0"&&attr.push(remaining.dd,"D"),attr.push("T",remaining.hh,"H",remaining.mm,"M"),this.options.with_seconds&&attr.push(remaining.ss,"S"),this.timeElement.attr("datetime",attr.join("")),this.daysVisible&&!this.options.always_show_days&&remaining.dd==="0"&&(this.item_dd.remove(),this.separator_dd.remove(),this.daysVisible=!1),this.remaining_dd.text(remaining.dd),this.remaining_hh1.text(remaining.hh[0].trim()),this.remaining_hh2.text(remaining.hh[1]),this.remaining_mm1.text(remaining.mm[0].trim()),this.remaining_mm2.text(remaining.mm[1]),this.remaining_ss1.text(remaining.ss[0].trim()),this.remaining_ss2.text(remaining.ss[1])}}),$.fn[pluginName]=function(options){var args=arguments;if(options===undefined||typeof options=="object")return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new CountDown(this,options))});if(typeof options=="string"&&options[0]!=="_"&&options!=="init"){var returns;return this.each(function(){var instance=$.data(this,"plugin_"+pluginName);instance instanceof CountDown&&typeof instance[options]=="function"&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),options==="destroy"&&$.data(this,"plugin_"+pluginName,null)}),returns!==undefined?returns:this}}})(window.jQuery,window,document);
//# sourceMappingURL=/cdn/shop/t/2/assets/jquery.countdown.js.map?v=76871197124066822501673572481
